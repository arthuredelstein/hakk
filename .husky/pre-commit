echo "ğŸ§ª Running pre-commit checks..."
echo "================================"

# Run linting first
echo "ğŸ” Running linting..."
npx semistandard

if [ $? -ne 0 ]; then
    echo "âŒ Linting failed! Commit aborted."
    echo "ğŸ’¡ Fix the linting errors and try again."
    echo "================================"
    exit 1
fi

# Run tests
echo "ğŸ§ª Running tests..."
npm test

if [ $? -eq 0 ]; then
    echo "âœ… All checks passed! Proceeding with commit..."
    echo "================================"
    exit 0
else
    echo "âŒ Tests failed! Commit aborted."
    echo "ğŸ’¡ Fix the failing tests and try again."
    echo "================================"
    exit 1
fi
